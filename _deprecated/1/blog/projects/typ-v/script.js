wordData = {
  "words": {
    "ru": [
      // 600 most used russian words
      // taken from http://masterrussian.com/vocabulary/most_common_words.htm
      "и","в","не","он","на","я","что","тот","быть","с","а","весь","это","как","она","по","но","они","к","у","ты","из","мы","за","вы","так","же","от","сказать","этот","который","мочь","человек","о","один","ещё","бы","такой","только","себя","своё","какой","когда","уже","для","вот","кто","да","говорить","год","знать","мой","до","или","если","время","рука","нет","самый","ни","стать","большой","даже","другой","наш","свой","ну","под","где","дело","есть","сам","раз","чтобы","два","там","чем","глаз","жизнь","первый","день","тут","во","ничто","потом","очень","со","хотеть","ли","при","голова","надо","без","видеть","идти","теперь","тоже","стоять","друг","дом","сейчас","можно","после","слово","здесь","думать","место","спросить","через","лицо","что","тогда","ведь","хороший","каждый","новый","жить","должный","смотреть","почему","потому","сторона","просто","нога","сидеть","понять","иметь","конечный","делать","вдруг","над","взять","никто","сделать","дверь","перед","нужный","понимать","казаться","работа","три","ваш","уж","земля","конец","несколько","час","голос","город","последний","пока","хорошо","давать","вода","более","хотя","всегда","второй","куда","пойти","стол","ребёнок","увидеть","сила","отец","женщина","машина","случай","ночь","сразу","мир","совсем","остаться","об","вид","выйти","дать","работать","любить","старый","почти","ряд","оказаться","начало","твой","вопрос","много","война","снова","ответить","между","подумать","опять","белый","деньги","значить","про","лишь","минута","жена","посмотреть","правда","главный","страна","свет","ждать","мать","будто","никогда","товарищ","дорога","однако","лежать","именно","окно","никакой","найти","писать","комната","Москва","часть","вообще","книга","маленький","улица","решить","далекий","душа","чуть","вернуться","утро","некоторый","считать","сколько","помнить","вечер","пол","таки","получить","народ","плечо","хоть","сегодня","бог","вместе","взгляд","ходить","зачем","советский","русский","бывать","полный","прийти","палец","Россия","любой","история","наконец","мысль","узнать","назад","общий","заметить","словно","прошлый","уйти","известный","давно","слышать","слушать","бояться","сын","нельзя","прямо","долго","быстро","лес","похожий","пора","пять","глядеть","оно","сесть","имя","ж","разговор","тело","молодой","стена","красный","читать","право","старик","ранний","хотеться","мама","оставаться","высокий","путь","поэтому","совершенно","кроме","тысяча","месяц","брать","написать","целый","огромный","начинать","спина","настоящий","пусть","язык","точно","среди","чувствовать","сердце","вести","иногда","мальчик","успеть","небо","живой","смерть","продолжать","девушка","образ","ко","забыть","вокруг","письмо","власть","чёрный","пройти","появиться","воздух","разный","выходить","просить","брат","собственный","отношение","затем","пытаться","показать","вспомнить","система","четыре","квартира","держать","также","любовь","солдат","откуда","чтоб","называть","третий","хозяин","вроде","уходить","подойти","поднять","особенно","спрашивать","начальник","оба","бросить","школа","парень","кровь","двадцать","солнце","неделя","послать","находиться","ребята","поставить","встать","например","шаг","мужчина","равно","нос","мало","внимание","капитан","ухо","туда","сюда","играть","следовать","рассказать","великий","действительно","слишком","тяжёлый","спать","оставить","войти","длинный","чувство","молчать","рассказывать","отвечать","становиться","остановиться","берег","семья","искать","генерал","момент","десять","начать","следующий","личный","труд","верить","группа","немного","впрочем","видно","являться","муж","разве","движение","порядок","ответ","тихо","знакомый","газета","помощь","сильный","скорый","собака","дерево","снег","сон","смысл","смочь","против","бежать","двор","форма","простой","приехать","иной","кричать","возможность","общество","зеленый","грудь","угол","открыть","происходить","ладно","черный","век","карман","ехать","немец","наверное","губа","дядя","приходить","часто","домой","огонь","писатель","армия","состояние","зуб","очередь","кой","подняться","камень","гость","показаться","ветер","собираться","попасть","принять","сначала","либо","поехать","услышать","уметь","случиться","странный","единственный","рота","закон","короткий","море","добрый","темный","гора","врач","край","стараться","лучший","река","военный","мера","страшный","вполне","звать","произойти","вперед","медленно","возле","никак","заниматься","действие","довольно","вещь","необходимый","ход","боль","судьба","причина","положить","едва","черта","девочка","лёгкий","волос","купить","номер","основной","широкий","умереть","далеко","плохо","глава","красивый","серый","пить","командир","обычно","партия","проблема","страх","проходить","ясно","снять","бумага","герой","пара","государство","деревня","речь","начаться","средство","положение","связь","скоро","небольшой","представлять","завтра","объяснить","пустой","произнести","человеческий","нравиться","однажды","мимо","иначе","существовать","класс","удаться","толстый","цель","сквозь","прийтись","чистый","знать","прежний","профессор","господин","счастье","худой","дух","план","чужой","зал","представить","особый","директор","бывший","память","близкий","сей","результат","больной","данный","кстати","назвать","след","улыбаться","бутылка "
    ],
    "kr": [
      "것","하다","있다","수","하다","나","없다","않다","사람","우리","그","아니다","보다","거","보다","같다","주다","대하다","가다","년","한","말","일","이","말하다","위하다","그러나","오다","알다","씨","그렇다","크다","일","사회","많다","안","좋다","더","받다","그것","집","나오다","그리고","문제","그런","살다","저","못하다","생각하다","모르다","속","만들다","데","앞","경우","중","어떤","잘","그녀","먹다","자신","문화","원","생각","어떻다","명","통하다","그러다","그러다","소리","다시","다른","이런","여자","개","정도","다","좀","싶다","보이다","가지다","함께","아이","지나다","많이","시간","너","인간","사실","나다","이렇다","어머니","눈","뭐","점","의하다","시대","다음","이러하다","누구","곳","여러","안","하나","세계","버리다","위","운동","퍼센트","학교","자기","가장","대통령","가지","시작하다","바로","어느","그래서","무엇","정부","모든","번","그거","돈","국가","그런데","날","여기","모두","여성","친구","마음","후","놓다","관계","아버지","남자","어디","몸","얼굴","왜","나타나다","지역","다르다","모습","물","만나다","내다","보이다","쓰다","이것","없이","이번","길","생활","쓰다","뿐","사이","방법","새롭다","내다","앉다","처음","손","몇","그때","과정","삶","갖다","찾다","특히","시","이상","지금","나가다","이야기","교육","사다","경제","아직","잡다","같이","선생님","예술","서다","못","역사","읽다","결과","내용","물론","책","일어나다","당신","시장","넣다","중요하다","무슨","느끼다","어렵다","힘","너무","나라","부르다","의미","자리","밝히다","죽다","이미","쪽","정치","국민","생명","얘기","학생","연구","엄마","이름","하나","내리다","사건","및","쉽다","짓다","이유","필요하다","글","생기다","사용하다","남편","밖","세상","작다","타다","대학","작품","상황","가운데","보내다","즉","상태","이후","당시","문학","더욱","아주","지방","밤","높다","최근","채","현실","환경","컴퓨터","먼저","다니다","얼마나","자체","열다","머리","묻다","남다","부분","기업","변화","아들","아","선거","관하다","분","그냥","나누다","이용하다","거의","곧","중심","활동","오늘","서로","관심","역시","이거","애","광고","나다","방","정신","이르다","이루다","아침","웃다","현상","기술","전체","그래","얻다","아름답다","끝","민족","간","조사","듯","입","뭐","그대로","영화","필요","줄","하늘","년대","과학","자연","정말","구조","결국","밥","입다","오히려","프로그램","네","이루어지다","남","하루","그림","적","터","마시다","치다","혼자","나가다","이제","교수","술","사랑","전화","끝나다","맞다","아빠","걸리다","지키다","한번","커피","가슴","길다","바라보다","알아보다","맛","대부분","산업","매우","오르다","음식","표정","꼭","일부","요즘","계획","느낌","얼마","고개","성격","계속","세기","세우다","아내","가족","현재","세","발전","차","놀다","향하다","관련","형태","각","도시","작업","분위기","그러하다","나이","우선","믿다","바꾸다","낳다","바","정보","열리다","좋아하다","그리다","만큼","배우다","시","역할","옆","행동","어","국내","비하다","기관","입장","만하다","예","아래","방식","영향","그럼","나서다","흐르다","저","깊다","배","내","모양","산","새","하지만","조건","문","꽃","단계","올리다","그동안","교사","갑자기","넘다","지니다","바람","잘하다","마을","어리다","대표","가능성","방향","대회","목소리","노래","바다","힘들다","공부","움직이다","의원","노력","전혀","언니","단체","분","알려지다","가능하다","능력","주장하다","자식","불","주민","모으다","자료","존재","학년","신문","가지다","이해하다","제품","분야","선생","사업","행위","수준","지난해","표현","기분","대","젊다","옷","기능","순간","전쟁","전","꿈","할머니","회의","방송","이야기하다","나무","자다","연극","마찬가지","걷다","노동","이때","과거","가치","시간","집단","현대","살펴보다","장관","차이","풀다","시절","물건","직접","개인","근데","발","작가","효과","불교","끌다","대로","빨리","시작되다","말다","설명하다","우주","시기","마치","살","생산","바라다","강하다","경험","음악","최고","나타내다","아프다","적다","비","고향","놀라다","다양하다","울다","농민","은행","지내다","결혼","법","소설","예","오후","질서","담다","모이다","시민","회장","빠르다","스스로","아기","아저씨","옛날","이날","제대로","달","던지다","참","공간","이곳","마지막","벌이다","병원","자세","강조하다","경찰","맡다","저녁","한편","그러면","기자","넓다","시험","잠","주로","훨씬","면","통일","건강","가깝다","건물","시설","외국","밑","어른","주변","대신","원인","팔다","차례","군","열심히","일하다","재산","팀","부모","약간","언어","요구하다","올라가다","첫","감독","그날","사실","자주"
      ]
  },
  "meanings": {
    "ru": [
      // 600 most used russian words
      // taken from http://masterrussian.com/vocabulary/most_common_words.htm
      "and, though","in, at","not","he","on, it, at, to","I","what, that, why","that","to be","with, and, from, of","while, and, but","all, everything","that, this, it","how, what, as, like","she","on, along, by","but","they","to, for, by","by, with, of","you, thou","from, of, in","we","behind, over, at, after","you","so, thus, then","and, as for, but, same","from, of, for","to say, to speak","this","which, who, that","be able","man, person","of, about, against","one, some, alone","still, yet","would","such, so, some","only, merely, but","myself, himself, herself","one's own, my, our","what, which, how","when, while, as","already, by now","for, to","here, there, this is, that's","who, that, some","yes, but","to say, to tell, to speak","year","to know, be aware","my, mine","to, up to, about, before","or","if","time, season","hand, arm","no, not, but","most, the very, the same","not a, not, neither… nor","to become, begin, come","big, large, important","even","other, another, different","our, ours","my, our, your","now, right, well, come on","under, for, towards, to","where","business, affair, matter","to eat, to be","myself, yourself","time, once, since","that, in order that","two","there, then","than; instead of","eye; sight","life","first, front, former","day","here, now, then","in, at; super, exactly","nothing","afterwards, then","very","with","to want, like","whether, if","attached to, in the presence of, by, about","head, mind, brains","over, above, ought to","without","to see","to go, come","now, nowadays","also, as well, too","to stand, be, stand up","friend","house, home","now, presently, soon","one can","after, afterwards","word","here","to think; believe","place; seat","to ask","through, across","face; person","what, which, that","then","you see, you know","good, nice","each, every","new; modern","to live","due, proper","to look, watch","why","that's why","side, party","simply","foot, leg","to sit","to understand; realize","to have, own","final, last","to do, make","suddenly","above, over","to take","nobody","to do, make, finish","door","before, in front of","necessary","to understand","to seem, appear","work, job","three","yours","really, already","earth, land, soil","end, distance","several, some","hour, time","voice","town, city","last, the latest, new","for the present","well","to give; let, allow","water","more","although","always","second","where, what for, much","to go","table, desk; board","child, kid, infant","to see","strength, force","father","woman","car, machine, engine","case, occasion, incident","night","at once, right away, just","world, peace","quite, entirely, totally","to remain, stay","about, of","appearance, look, view","to go out, come out, appear","to give","to work","to love","old","almost","row, line","find oneself, turn out","beginning, origin, source","your, yours (informal)","question, matter, problem","many, much","war","again","to answer, reply","between, among","to think","again","white","money","to mean, signify","about, for","only, as soon as","minute, moment","wife","to take a look, watch, inspect","truth","main, chief","country","light;world","to wait","mother","as if, as though","never","comrade, friend","road, way, journey","however, though","to lie, be situated","namely, just","window, windowsill","no, none","to find, discover, consider","to write","a room","Moscow","part, share, department","in general, altogether, on the whole","a book","small, little","street","to decide, solve","distant, remote","soul, spirit","hardly, slightly","to return","morning","some","to count, consider","how much, how many","to remember","evening","floor; sex","after all","to receive, get, obtain","people, nation","shoulder, upper arm","even, if you want, though","today","god","together","look, glance; view","to go, walk","what for, why","Soviet","Russian","be, visit, happen","full, complete","to come, arrive","finger, toe","Russia","any, every","history, story, event","at last, finally","thought, idea","to know, learn, recognize","back, backwards","general, common","to notice, observe","as if, like","past","to leave, go away","well-known, famous","long ago","to hear","to listen, hear","to be afraid, fear","son","it is impossible, can't","straight, frankly","for a long time","fast, quickly","forest","similar, alike","time; pore (see #1000)","five","to look, gaze","it","to sit","name","and, as for, but","talk, conversation","body","young ; bridegroom (as a noun)","wall","red","to read","right","old man","early","want, like","mummy, mum","to remain, stay","tall, high","way, track, path","therefore","absolutely, quite","except, besides","a thousand","month","to take; hire","to write","intact, whole, entire","huge, enormous","to begin","back","present;real, true","let's, though","tongue, language","exactly","among","to feel","heart","to lead","sometimes","boy","to be in time, be successful","sky","living, live, lively","death","to continue","girl, miss","shape, form, image","to, towards, by","to forget","around","letter","power","black","to pass, go by, be over","to appear, show up","air","different","to go out; nurse","to ask","brother","one's own","relationship, attitude","then, after that","to try","to show, display","to remember, recall","system","four","flat, apartment","to hold, keep","also, as well, too","love","soldier","where… from","that, in order that,","to call, name,","third","master, boss, host","like, not unlike","to leave, go away","to approach, come up","to lift, raise","especially, particularly","to ask, inquire","chief, head, superior","both","to throw","school","boy, fellow, guy","blood","twenty","sun","week","to send, dispatch","to be found, turn up","guys, children","to put, place, set","to get up, rise, stand up","for example, for instance","step","man, male","alike, in like manner","nose","little, few,","attention","captain, master","ear","there","here","to play","to follow, come next","to tell, narrate","great","indeed, really","too, too much","heavy","to sleep","to leave, abandon","to enter, come in","long","feeling","to keep silence","to tell, narrate,","to answer, reply,","to stand; to become","to stop","bank, shore, coast","family","to search","general","moment, instant","ten","to begin","next, following","personal","labor, work","to believe","group","a little","however, though","evidently, obviously","to appear","husband","really?, perhaps","movement","order","answer, reply","quietly, softly, slowly","familiar, acquainted","newspaper","help","strong, powerful","quick, fast","dog","tree","snow","dream","sense, meaning, purpose","to be able","against, opposite, contrary to","to run, hurry","yard, court","form, shape, uniform","simple, easy, plain","to arrive, come","different, other","to cry, shout","possibility, opportunity, chance","society","green","breast, chest","corner, angle","to open","to happen, occur, take place","in harmony, well, all right","black (as in \"she wears black\")","century, age","pocket","to go, ride, drive, travel","German","probably, most likely","lip","uncle","to come, arrive","often","home(as in \"she came home\")","fire","writer","army","state, condition; fortune","tooth","line, queue, turn","which (old-fashioned, literary); mostly found in set expressions: ни в ко́ем слу́чае, ни ко́им о́бразом, в кои ве́ки, на кой чёрт?","to rise, climb","stone","guest","to appear, come in sight","wind","to gather together, assemble; intend","to hit; to find oneself","to take, admit, accept","at first, from the beginning","or","to depart, set off","to hear","to be able, know, can","to happen","strange","only, sole","company (military)","law, act, statue","short","sea","kind","dark","mountain, hill","physician, doctor","border, edge; land, country","to try, endeavour","better, best","river","military","measure, step","terrible, frightful","quite, fully","to call","to happen, occur, take place","forward","slowly","by, near, close by","in now way, by no means","to be occupied, engage","action, effect","enough; rather","thing","necessary","move","pain","fate, fortune, destiny","cause, reason, motive","to lay down, put down, place","hardly, just, barely","line, boundary; trait","girl, little girl","light, easy","hair","to buy, purchase","number, size, room, issue","main","wide","to die","far, far off","badly","head, chief","beautiful","grey; dull","to drink","commander, commanding officer","usually","party","problem, issue","fear","to pass, go;study","clear, clearly","to take away, take off;photograph","paper","hero","pair, couple","State","village, country","speech","to begin","means, remedy","position, posture, condition, state","tie, bond; connection, relation","quickly, fast, soon","small, not great","to present, introduce, imagine","tomorrow","to explain","empty, hollow; idle","to pronounce, say, utter","human","to please, like","once, one day","past, by","otherwise, differently","to exist, to be","class","turn out well, succeed, manage","thick, heavy, fat","goal, object, target","through","to fit, fall; have to","clean, pure","to know","former","professor","gentleman, Mr.","happiness, luck","thin, skinny; masterrussian.com","spirit","plan","somebody else's;strange, foreign","hall","to present, produce, introduce","special","director, manager","former, ex-","memory","near, similar; intimate","this","result, outcome","sick","given, present","to the point, at the same time","to call, name","track, footprint","to smile","bottle"
    ],
    "kr": [
      " A thing or  an object"," To do"," To be"," way, method, Number"," To do"," I"," Do not exist, absent","To not do"," Person"," we, our"," He, That"," To not be"," To try","thing"," To see"," To be similar"," To give, to do for a person"," Face, confront"," To go"," Year"," One, a single"," words,speaking"," Work"," A person, This"," Speak"," To do for the sake of"," However or  but still"," To come"," To know"," ~ Mr."," That is right or  yes."," To be big, large"," One day"," culture,society"," many, much"," ~ not ~ + VERB"," To be good"," More"," Receive"," That thing"," House"," Come out"," And or  and then"," question,problem"," Such a"," To live"," That"," Be impossible"," To think"," To not know"," The inside"," To make"," Place, point, instance"," In front of, before"," A case or  an instance"," The center, the middle"," What kind of, what sort of"," Well"," She"," Eat, chow down on"," one’s own self, one\’s own body"," culture"," A unit of south korean  money, KRW"," Thought"," how,what.. do you think of"," Person counter"," Run, lead; flow; go through"," and so, and then, well"," and so, and then, well"," A sound,noise"," Again"," Different"," Such, like this"," woman,female"," Unit or  piece"," grade,degree"," All, everything"," A little"," want,hope"," see,catch sight of"," To have or  take or  hold"," Together, with"," Child"," pass,elapse,go on"," A lot"," Time"," You"," A person, a human being"," The truth, a fact"," To be born"," Like this"," Mom"," Eyes"," Huh? (2) something"," Store"," To be due to, owing to"," An age,period"," Next"," Be this way, be like follows"," Who"," Place"," many,various"," Inside"," One"," World"," (following a verb) the verb\’s action is over, perhaps in a sad way"," The upper part, above"," Motion, movement"," Percent"," School"," Oneself, number one, numerouno, self"," Most"," The president"," One of the kind or  a sort"," To start,begin"," Right, correctly"," Some, a certain"," And so accordingly"," That thing,whatever"," Government"," Every one"," Number, how many times"," That thing"," Money"," A state or  a nation"," But or  however"," Day"," A hobby"," Everybody"," Female"," A friend"," Heart"," After"," Put, place"," Connection or  relation"," Father"," Boy"," Where?"," body,physique"," Face"," Why?"," Come out, appear"," An area, region"," Be different"," shape,body"," Water"," Meet"," produce something"," show,let see"," To write"," This thing"," Without"," This time"," Road"," lifestyle,livelihood"," Take (medicine)"," only,alone,merely"," space between 2 points; the relationship between 2 people"," Way, method"," To be new,novel"," to see through, to make it through sth"," To sit down"," First"," The hand"," A few"," Then or  at that time"," Process or  course"," Life"," To hold"," seek,look for"," Especially"," Time"," More than, above"," Now"," To go out"," Conversation, talk"," Education"," To buy, purchase"," Economy"," Still"," seize,catch"," Together"," Teacher"," Art, an art"," To stand"," Cannot"," History"," To read"," Result"," Contents"," Of course"," A book"," To rise, get up"," Formal you"," market,fair"," Put in, set in"," To be important,weighty"," What, what kind of"," To feel"," To be hard, difficult"," Power"," Too much"," A country"," To call"," A meaning, a sense"," seat,spot"," To light up"," die,pass away"," Already"," Way, direction"," Politics"," The people or  a nationality"," Life"," Story"," Student"," Research"," Mamma"," Name"," One"," Descend"," An event,incident"," As well as"," To be easy"," To make, build ; to form a line (a group)"," Reason"," To need"," words, a verse"," arise,occur,happen"," To use"," Husband"," The outside"," The world,society"," Small"," Ride (bus)"," University"," A work of art"," State of things"," In the middle"," Send"," namely,that is to say"," condition,state"," After that"," At that time"," Literature"," More and more"," Extremely"," A locality, district"," Night"," High"," Recently"," As it is, no change"," Actuality, reality"," Environment"," Computer"," First"," Go to and from a aplace"," How many, how much"," one’s own body"," Open"," Head"," to Ask"," Remain, be left over"," part,portion"," An enterprise or business"," Change, transformation"," son,baby"," Oh dear"," An election"," Refer to or  be about"," Minutes"," Just because or  in that condition"," To divide"," To use, make use of"," Almost or  nearly"," Soon"," The nucleus, the focus, the heart"," Activity"," Today"," mutually,one another"," Concern or  interest"," As expected, likewise"," This thing"," A baby, or a slightly derogative word for person"," Advertisement"," To come out, grow, spring up"," A room"," mind,spirit"," To reach, arrive, get at"," Accomplish, complete"," Morning"," To laugh, smile"," The present situation, state"," Art or  technique or  ability"," The whole, the entire section"," So or  yes or  that’s right"," Get, obtain"," To be beautiful"," The end"," race,nation,people"," The interval between"," investigation,inquiry"," To be like something"," Mouth"," Huh? (2) something"," Like that"," A movie"," Need, requirement,necessity"," way,method"," The sky"," Year"," Science"," Nature"," Really"," Construction or  structure"," After all or  in the end"," Rice, a meal"," To wear"," Rather,preferably"," Program"," Yes"," Get accomplished, achieved"," Others, other people"," A day"," A picture"," The time,the occasion,when"," one’s status, one’s lot"," To drink"," to attack, assault"," Alone"," To advance, proceed, go forward"," Now"," Teaching or  instruction"," Alcohol"," Love"," Telephone"," To draw to a close or  to end"," Be right, correct; to match, be fitting for"," Dad"," To be hung up or  suspended"," Protect, maintain"," Once"," Coffee"," Chest"," To be long"," Look at, watch ; to look forward to, hope for"," To investigate, examine, search"," Flavor"," Most"," Industry"," Very"," Go up, climb, ascend"," Food"," Facial expression, look"," For sure"," A part, a portion"," Recently, nowadays"," A plan or  a project"," Touch, feel"," How many, how much"," The nape of the neck"," Personality ; character, nature"," Continuously"," Century"," Stand up, erect"," Wife"," Family"," The present time, now, at present"," Three"," Development"," A vehicle, train/auto car"," Play, amuse oneself"," To face, look out on"," Relation or  connection or  reference"," Form, shape"," Each or  every"," City"," Work"," atmosphere,surroundings"," To be so or  right"," Age"," First of all, before everything"," Believe"," change,exchange"," To give birth"," A thing, what"," information,intelligence"," Open, be opened, be unlocked"," To like, be fond of"," Picture or  draw a picture"," Of that amount"," To learn"," Poetry, lines of verse"," A part, a role"," Next to"," Action, behavior"," Oh, well, why"," Inside the country"," Compare to"," An engine or  a machine"," A position, situation"," Be of the extent of"," Example"," The bottom, the lower part"," A form, method, process"," Influence, consequences"," Certainly or  of course."," Come out, come forth"," Flow, stream"," Uh, well,  …"," Deep"," A boat (boating)"," Inside"," A shape, form"," A mountain"," New"," But, nevertheless"," condition,stipulation"," Door"," Flower"," A step, phase"," Raise, lift up"," During that time"," Instructor"," Suddenly"," Cross or go across"," Carry with, hold, possess"," Wind"," To do well"," Town"," To be very young, juvenile"," Representative"," Possibility"," Direction"," A great meeting"," Voice"," Song"," Sea"," To be hard, difficult"," Study"," To move, stir"," A member"," Effort"," entirely,utterly,completely"," Older sister"," A corps, a group"," One part"," To become known"," To be possible"," Ability, capability, how much and how well"," To assert,maintain"," one’s children"," Fire"," inhabitants,dwellers"," gather,get together"," materials,data"," Existence"," A school year"," A newspaper"," Entertain or  hold or  have"," To understand"," Manufactured goods"," Field"," Teacher"," Business"," An act, deed, behavior"," Level"," Last year"," Verbal expression, representation, manifestation"," Mood"," Era, period"," To be young,youthful"," Clothes"," Function or  functionality"," A moment,a second"," War"," Before"," A Dream"," Grandmother"," A meeting, a conference"," Broadcast"," To talk"," Tree"," To sleep"," drama,a play"," The same"," To walk"," Labor, work"," At this time, moment"," The past"," Price"," a Length of time (한시간 동안)"," A group, a collective body"," The present age, times"," Watch closely"," A government cabinet minister"," difference,disparity"," Untie, loosen ; to melt into"," season,time,occasion"," A thing"," Directly"," Private or  individual"," But or  however"," Foot"," writer,author"," Effect, effectiveness"," Buddhism"," Pull"," Like, according to"," Quickly"," To begin,start"," Cease"," To explain"," The universe"," An opportunity,chance"," As though, as if"," Years old"," 1) production 2)birth"," Wish, hope"," To be strong or  powerful"," Experience or  undergo or  suffer"," Music"," The best"," Show, display"," To hurt"," To be small, few in number"," Rain"," Hometown"," Be surprised"," To be various, diverse"," To cry, weep"," A farmer"," A bank"," To pass, spend time"," Marriage"," A law, the law"," A novel, fiction story"," Yes, certainly, right"," The afternoon"," Order, system"," Put in a bottle"," Meet, assemble"," Residents of a city"," Chariman, the president"," Be fast, quick"," On its own, of its own free will"," baby,infant"," Sir, calling an unknown male"," Ancient times, antiquity"," Today, this day"," As properly is suitable"," The moon"," To throw"," really,truly"," Space or  room"," This place, here"," Last, final"," (1) to plan to start a job/project (2) to play a table game"," Hospital"," Position, posture"," Place empasis upon"," The police"," Take charge of"," Evening"," One side, one way"," If so or  if that is the case"," A journalist"," Broad"," A test"," Sleep"," principally,mainly"," By far, very much so"," Side"," Unification"," Health"," Close"," Building"," establishment,institution"," A foreign country"," The bottom"," A man, an adult"," A circumference"," Instead of"," A cause,a factor"," To sell"," (1) order,precedence  (2) one time, one round"," An army"," Enthusiastically,with zeal"," To work, labor"," property,fortune, assets, possessions"," Team"," Parents"," Somewhat"," language,speech"," To demand,claim,request"," To go up, ascend"," First"," The director"," That day or  that same day"," Actually, really"," Always, constantly"
    ]
  }
}

kbPaths = {
  "ru": "typ-v/kb_ru.png",
  "kr": "typ-v/kb_kr.jpg",
}

// On document ready
$( document ).ready(function() {

    var languageKey = "ru";
    var kbPath = kbPaths[languageKey];
    $("#keyboard").attr("src", kbPath);

    $('select').on('change', function() {
      languageKey = this.value;
      kbPath = kbPaths[languageKey];
      $("#keyboard").attr("src", kbPath);
    });

    // pad numbers
    function pad(num, size=4) {
      var s = num+"";
      while (s.length < size) s = "0" + s;
      return s;
    }

    function writeWord(word) {
      var s = "";

      for(i=0;i<word.length;i++) {
        s+= `<span id='word${i}'>${word[i]}</span>`;
      }

      return s;
    }

    // shuffle two arrays in a parallel manner
    // taken from https://stackoverflow.com/questions/18194745/shuffle-multiple-javascript-arrays-in-the-same-way
    function shuffle(obj1, obj2) {
      var index = obj1.length;
      var rnd, tmp1, tmp2;

      while (index) {
        rnd = Math.floor(Math.random() * index);
        index -= 1;
        tmp1 = obj1[index];
        tmp2 = obj2[index];
        obj1[index] = obj1[rnd];
        obj2[index] = obj2[rnd];
        obj1[rnd] = tmp1;
        obj2[rnd] = tmp2;
      }
    }

    var t;
    var word;
    var score;
    var timeSec;
    var gameOn = false;

    var area = $('#txtArea');

    // start practice game
    function startGame() {

      $("#languages").attr("disabled", "disabled");

      area.val("");
      area.focus();

      gameOn = true;

      words = wordData["words"][languageKey];
      meanings = wordData["meanings"][languageKey];

      writeWord(words[0]);

      shuffle(words, meanings);

      turn = 0;

      word = words[0];
      timeSec = 12000;
      score = 0;

      $('#displaySpan').html(writeWord(word));
      $('#timeRem').html(Math.ceil(timeSec/1000));
      $('#scorePts').html(pad(score));
      $('#meaning').html(meanings[turn]);

      elapsed = 0;
      function decreaseTime() {
        timeSec -= 1000;
        elapsed += 1;
        $('#timeRem').html(Math.ceil(timeSec/1000));
        if (timeSec <= 0) {
          clearInterval(t);
          alert("Oops! Time beats us all!: You scored "+score.toString()+" points in "+elapsed.toString()+" seconds.");
          $('#displaySpan').html("Click Start!");
          area.val("");
          $('#meaning').html("");
          gameOn = false;
          $("#languages").removeAttr("disabled");
          return;
        }
      }

      /*
        get how much time to add to the timer
        calculated using https://mycurvefit.com
        on the following datapts
        |score|time|
        |1    |8000|
        |100  |6000|
        |200  |4000|
        |400  |3000|
        |800  |2000|
        |1000 |1000|
      */
      function getBonusTime(score, timer){
        timeToAdd = (2.706775 + (8049.318 - 2.706775)/(1 + Math.pow((score/232.6811), 1.108186)));
        return timeToAdd;
      }

      clearInterval(t);
      t=setInterval(decreaseTime, 1000);

      area.keydown(function(e){

        if (gameOn) {
          if (e.keyCode == 13) {
            e.preventDefault();

            console.log(area.val());
            answer = area.val();
            area.val("");

            if (word == answer) {
              timeSec += getBonusTime(score, timeSec);
              timeSec; // timer continues from previous value if not for this line lol

              score += word.length*(1+Math.ceil(timeSec/10000));
              turn += 1;
              if (turn == words.length) {
                clearInterval(t);
                alert("Congrats, you've gone through every word available! You scored "+score.toString()+" points in "+elapsed.toString()+" seconds.");
                $('#displaySpan').html("Click Start!");
                $('#meaning').html("");
                area.val("");
                turn = 0;
                gameOn = false;
                $("#languages").removeAttr("disabled");
                return;
              }
              word = words[turn];
              $('#meaning').html(meanings[turn]);
              $('#displaySpan').html(writeWord(word));
              $('#timeRem').html(Math.ceil(timeSec/1000));
              $('#scorePts').html(pad(score));
            } else {
              //console.log("("+word + ")-(" + answer+")");
            }

          }

        }
      });

      area.keyup(function(e){
        if (gameOn) {
          var input = area.val();

          console.log("<"+word+">:<"+input+">");

          for(i=0;i<word.length;i++){
            if (i<input.length && word[i]==input[i]) {
              $(`#word${i}`).removeClass("false");
              $(`#word${i}`).addClass("true");
            } else if (i<input.length && word[i]!=input[i]){
              $(`#word${i}`).removeClass("true");
              $(`#word${i}`).addClass("false");
            } else {
              $(`#word${i}`).removeClass("false");
              $(`#word${i}`).removeClass("true");
            }
          }
        }
      });
    }

    $("#startButton").click(function() {
      startGame();
    });


});
